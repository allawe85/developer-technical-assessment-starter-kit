generator client {
  provider = "prisma-client-js"
  binaryTargets = ["native", "linux-arm64-openssl-3.0.x", "debian-openssl-3.0.x"]
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model agent_contacts {
  id           String    @id @default(dbgenerated("gen_random_uuid()")) @db.Uuid
  user_id      String?   @db.Uuid
  listing_id   String    @db.Uuid
  listing_type String    @db.VarChar(50)
  message      String?
  created_at   DateTime? @default(now()) @db.Timestamptz(6)
  users        users?    @relation(fields: [user_id], references: [id], onDelete: NoAction, onUpdate: NoAction)
}

model lands {
  id            String                   @id @default(dbgenerated("gen_random_uuid()")) @db.Uuid
  name          String                   @db.VarChar(255)
  price         Decimal                  @db.Decimal(12, 2)
  location      String                   @db.VarChar(255)
  image_urls    String[]                 @default([])
  details       String?
  sq_ft_or_area Decimal?                 @db.Decimal(10, 2)
  zoning_type   String?                  @db.VarChar(100)
  created_at    DateTime?                @default(now()) @db.Timestamptz(6)
  search_vector Unsupported("tsvector")? @default(dbgenerated("((setweight(to_tsvector('english'::regconfig, (name)::text), 'A'::\"char\") || setweight(to_tsvector('english'::regconfig, COALESCE(details, ''::text)), 'B'::\"char\")) || setweight(to_tsvector('english'::regconfig, (location)::text), 'C'::\"char\"))"))

  @@index([location], map: "idx_lands_location")
  @@index([price], map: "idx_lands_price")
  @@index([search_vector], map: "idx_lands_search", type: Gin)
}

model projects {
  id              String                   @id @default(dbgenerated("gen_random_uuid()")) @db.Uuid
  name            String                   @db.VarChar(255)
  price_range     String                   @db.VarChar(100)
  location        String                   @db.VarChar(255)
  image_urls      String[]                 @default([])
  details         String?
  sq_ft_or_area   Decimal?                 @db.Decimal(10, 2)
  completion_date DateTime?                @db.Date
  created_at      DateTime?                @default(now()) @db.Timestamptz(6)
  search_vector   Unsupported("tsvector")? @default(dbgenerated("((setweight(to_tsvector('english'::regconfig, (name)::text), 'A'::\"char\") || setweight(to_tsvector('english'::regconfig, COALESCE(details, ''::text)), 'B'::\"char\")) || setweight(to_tsvector('english'::regconfig, (location)::text), 'C'::\"char\"))"))

  @@index([location], map: "idx_projects_location")
  @@index([search_vector], map: "idx_projects_search", type: Gin)
}

model properties {
  id            String                   @id @default(dbgenerated("gen_random_uuid()")) @db.Uuid
  name          String                   @db.VarChar(255)
  price         Decimal                  @db.Decimal(12, 2)
  location      String                   @db.VarChar(255)
  image_urls    String[]                 @default([])
  details       String?
  sq_ft_or_area Decimal?                 @db.Decimal(10, 2)
  amenities     String[]
  created_at    DateTime?                @default(now()) @db.Timestamptz(6)
  search_vector Unsupported("tsvector")? @default(dbgenerated("((setweight(to_tsvector('english'::regconfig, (name)::text), 'A'::\"char\") || setweight(to_tsvector('english'::regconfig, COALESCE(details, ''::text)), 'B'::\"char\")) || setweight(to_tsvector('english'::regconfig, (location)::text), 'C'::\"char\"))"))

  @@index([location], map: "idx_props_location")
  @@index([price], map: "idx_props_price")
  @@index([search_vector], map: "idx_props_search", type: Gin)
}

model users {
  id             String           @id @default(dbgenerated("gen_random_uuid()")) @db.Uuid
  email          String           @unique @db.VarChar(255)
  password_hash  String           @db.VarChar(255)
  full_name      String?          @db.VarChar(100)
  created_at     DateTime?        @default(now()) @db.Timestamptz(6)
  agent_contacts agent_contacts[]
}
